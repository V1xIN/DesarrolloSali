<ion-header [translucent]="true">
  <ion-toolbar>
    <!-- Botón del menú a la izquierda -->
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>

    <!-- Título con imagen a la izquierda -->
    <ion-title slot="start" style="display: flex; align-items: center;">
      Agregar Auto
    </ion-title>

    <!-- Avatar a la derecha -->
    <ion-avatar slot="end">
      <img [routerLink]="['/pprincipal']" alt="Avatar"
        src="https://cdn.discordapp.com/attachments/1142192349838053398/1171554690794803200/Captura-modified.png?ex=655d1a54&is=654aa554&hm=9352305d890d3878c369d31726da8776d248430d23031f60e84de8bbfa2a7b82&" />
    </ion-avatar>
  </ion-toolbar>
</ion-header>

<ion-content class="fondo" [fullscreen]="true">


  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Agregar Auto</ion-title>
    </ion-toolbar>
  </ion-header>


  <ion-content>
    <ion-card class="caja">
      <br>
      <ion-button (click)="takePicture()">Tomar foto</ion-button>
      <img *ngIf="image2" [src]="image2" alt="image2" style="width: 100%;max-width: 250px;">

      <input type="file" style="display: none" #fileInput (change)="handleFileInput($event)">
      <ion-button (click)="fileInput.click()">Subir foto</ion-button>
      <img [src]="selectedImage" *ngIf="selectedImage">



      <ion-item>
        <ion-label position="floating">Marca</ion-label>
        <ion-select placeholder="Seleccione marca" [(ngModel)]="marca">
          <ion-select-option *ngFor="let x of escogerMarcas" [value]="x">{{x.marca}}</ion-select-option>
        </ion-select>
      </ion-item>
      <br>
      <ion-input label="Modelo" label-placement="floating" fill="outline" placeholder="SM3"[(ngModel)]="modelo" required (blur)="validateModel(modelo)"></ion-input>
      <p *ngIf="errorMessages.modelo" class="error-message">{{ errorMessages.modelo }}</p>


      <ion-input label="Patente" label-placement="floating" fill="outline" placeholder="BB-RR-48"[(ngModel)]="patente" required (blur)="validatePatent(patente)"></ion-input>
      <p *ngIf="errorMessages.patente" class="error-message">{{ errorMessages.patente }}</p>
      <br>

      <ion-item>
        <ion-label position="floating">Color</ion-label>
        <ion-select placeholder="Seleccione color" [(ngModel)]="color">
          <ion-select-option *ngFor="let x of escogerColores" [value]="x">{{x.color}}</ion-select-option>
        </ion-select>
      </ion-item>
      <br>
      <ion-input label="Nro Chasis" label-placement="floating" fill="outline" placeholder="65645356587698"[(ngModel)]="numeroChasis" required (blur)="validateChassis(numeroChasis)"></ion-input>
      <p *ngIf="errorMessages.nroChasis" class="error-message">{{ errorMessages.nroChasis }}</p>



      <br>

      <ion-button shape="round" (click)="agregarAuto()">Ingresar Auto</ion-button>

      <br>
      <ion-button shape="round" [routerLink]="['/']">Volver</ion-button>
    </ion-card>
  </ion-content>


</ion-content>